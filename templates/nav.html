{{define "nav"}}

<style>
  .bar1,
  .bar2,
  .bar3 {
    width: 35px;
    height: 5px;
    background-color: #333;
    margin: 6px 0;
    transition: 0.4s;
  }

  .change .bar1 {
    transform: translate(0, 11px) rotate(-45deg);
  }

  .change .bar2 {
    opacity: 0;
  }

  .change .bar3 {
    transform: translate(0, -11px) rotate(45deg);
  }

  .small-nav-bar {
    position: absolute;
    top: 100px;
    width: 100vw;
    z-index: 101;
  }

  .small-nav-bar a {
    width: 100%;
    display: block;
    padding-bottom: 40px;
    background-color: white;
  }

  .nav-link {
    color: black;
    display: block;
    padding: 5px 0px;
    text-align: center;
    font-weight: bold;
    font-size: 18px;
  }

  .nav-link-active {
    padding-bottom: 2px;
    border-bottom: 2px solid #000;
  }

  .nav-link:hover {
    padding-bottom: 2px;
    border-bottom: 2px solid #000;
  }
</style>

<div class="nav-bar" id="nav">
  <a href="/" class="nav-logo">
    <img src="/static/images/app/logo.png" alt="Up For School Logo" />
  </a>

  <div class="show-on-small" onclick="toggleNavbar(this)">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
  </div>

  <div class="show-on-large">
    <div class="flex flex-row f-right gap-32">
      <a href="/home" class="nav-link"> <span>Hem</span></a>
      <a href="/tutors" class="nav-link"> <span>Alla Studiecoacher</span></a>
      <a href="/profile" class="nav-link"> <span>Min profil</span></a>
    </div>
  </div>
</div>

<div id="small-nav-bar" style="display: none" class="show-on-small flex-columns small-nav-bar center">
  <a href="/home" class="bolder color-primary">Hem</a>
  <a href="/profile" class="bolder color-primary">Profil</a>
</div>

<script>
  function toggleNavbar(target) {
    target.classList.toggle("change");
    smallNav = document.getElementById("small-nav-bar");
    if (smallNav.style.display === "none") {
      smallNav.style.display = "flex";
    } else {
      smallNav.style.display = "none";
    }
  }

  // Add active class to current page
  (function () {
    const currentPath = window.location.pathname;
    const navLinks = document.querySelectorAll(".nav-link");

    navLinks.forEach((link) => {
      const linkPath = new URL(link.href).pathname;
      if (linkPath === currentPath) {
        link.classList.add("nav-link-active");
      }
    });
  })();
</script>

{{end}}
